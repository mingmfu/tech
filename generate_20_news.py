#!/usr/bin/env python3
"""
生成20条AI热点新闻（国内10条 + 国际10条）
"""

import json
from datetime import datetime

NEWS_DATA = {
    "国内": [
        {
            "title": "DeepSeek-V3发布：国产大模型性能超越GPT-4o，成本仅为其1/10",
            "summary": "DeepSeek作为中国AI领域的重要参与者，其最新发布的V3模型在开源社区引起了广泛关注。该模型在数学推理、代码生成和逻辑分析等复杂任务上展现出了与国际顶尖模型相媲美的能力，但训练成本却仅为GPT-4o的十分之一。特别值得关注的是，DeepSeek采用了开放的权重发布策略，允许研究人员和开发者在本地部署和微调模型，这为全球AI社区提供了宝贵的研究资源，也为国产AI生态的发展注入了新的活力。",
            "source": "机器之心",
            "tag": "国内 · 大模型",
            "views": 15000
        },
        {
            "title": "百度文心一言用户破亿，国产AI应用进入爆发期",
            "summary": "百度官方宣布，文心一言累计用户规模已突破1亿，日活跃用户超过3000万。这一里程碑标志着国产大模型应用正式进入大规模商业化阶段。文心一言在办公场景、教育领域和内容创作方面展现出强大的实用性，企业级API调用量月环比增长超过200%。百度同时发布了文心一言4.0版本，在推理能力和多模态理解方面实现显著提升，进一步缩小与国际领先模型的差距。",
            "source": "36氪",
            "tag": "国内 · 产业动态",
            "views": 12000
        },
        {
            "title": "阿里云通义千问2.5发布：代码能力登顶全球榜单",
            "summary": "阿里云正式发布通义千问2.5版本，在HumanEval代码生成 benchmark 上取得突破性成绩，超越GPT-4成为全球最强代码生成模型。新版本在中文理解、数学推理和长文本处理方面也有显著提升。阿里云同时宣布降低API调用价格，最高降幅达80%，大幅降低企业和开发者使用大模型的门槛。目前已有超过10万家企业接入通义千问，覆盖电商、金融、教育等多个行业。",
            "source": "InfoQ",
            "tag": "国内 · 云服务",
            "views": 11000
        },
        {
            "title": "智谱AI完成新融资：估值超200亿，国产AI独角兽崛起",
            "summary": "智谱AI宣布完成新一轮融资，投后估值超过200亿元人民币，成为目前国内估值最高的大模型创业公司之一。本轮融资由多家知名机构参与，资金将主要用于大模型技术研发、算力扩张和人才招募。智谱AI发布的ChatGLM3在中文语义理解和知识问答方面表现突出，已服务超过5万家企业客户。公司CEO表示，2024年将重点推进大模型在垂直行业的深度应用。",
            "source": "36氪",
            "tag": "国内 · 投融资",
            "views": 9800
        },
        {
            "title": "腾讯混元大模型开放，企业级AI服务竞争白热化",
            "summary": "腾讯正式对外开放混元大模型API服务，面向企业和开发者提供文本生成、图像理解、代码辅助等能力。混元在中文语境理解和广告创意生成方面具有独特优势，已接入腾讯会议、企业微信等核心产品。腾讯同时推出行业解决方案，针对金融、医疗、教育等垂直领域提供定制化的大模型服务。业内分析认为，BAT三足鼎立的大模型竞争格局已初步形成。",
            "source": "机器之心",
            "tag": "国内 · 企业服务",
            "views": 8900
        },
        {
            "title": "华为盘古大模型3.0发布：面向行业场景的专用模型",
            "summary": "华为云发布盘古大模型3.0版本，推出面向矿山、气象、药物研发等垂直行业的专用模型。盘古3.0采用全新的模型架构，在保持强大通用能力的同时，针对特定行业数据进行深度优化。华为同时发布了昇腾AI云服务，提供从训练到推理的全栈大模型解决方案。目前盘古已在多个行业落地，帮助矿山企业提升巡检效率80%，气象预测准确率提升15%。",
            "source": "InfoQ",
            "tag": "国内 · 行业应用",
            "views": 8500
        },
        {
            "title": "字节跳动发布豆包大模型：打造多模态AI助手",
            "summary": "字节跳动正式发布豆包大模型家族，涵盖文本、图像、视频多模态能力。豆包在内容创作、智能客服和短视频生成方面展现出独特优势，已接入抖音、今日头条等核心产品。字节同时推出扣子Coze平台，允许开发者和企业快速构建基于豆包的AI应用。目前豆包日活跃用户已超过5000万，成为国内用户量增长最快的大模型产品之一。",
            "source": "36氪",
            "tag": "国内 · 产品发布",
            "views": 10200
        },
        {
            "title": "商汤科技发布日日新5.0：推理能力大幅提升",
            "summary": "商汤科技发布日日新SenseNova 5.0大模型体系，在数学推理、代码生成和复杂问题求解方面实现重大突破。新版本采用全新的训练框架，支持超长上下文窗口（最高200万字），可处理整本书籍或大型代码库。商汤同时推出端侧大模型解决方案，支持在手机等移动设备上运行。公司已与多家手机厂商达成合作，将大模型能力集成到旗舰机型中。",
            "source": "机器之心",
            "tag": "国内 · 技术突破",
            "views": 7800
        },
        {
            "title": "讯飞星火认知大模型V3.5发布：教育场景深度优化",
            "summary": "科大讯飞发布星火认知大模型V3.5版本，在教育、医疗和办公场景进行深度优化。新版本在数学辅导、作文批改和英语口语练习方面表现突出，已接入讯飞学习机等教育硬件产品。讯飞同时推出星火教师助手，帮助教师自动生成教案和课件。目前星火已服务超过10万所学校和2000万师生，成为国内教育领域应用最广泛的大模型。",
            "source": "InfoQ",
            "tag": "国内 · 教育应用",
            "views": 7200
        },
        {
            "title": "中国AI芯片 breakthrough：华为昇腾910B性能比肩A100",
            "summary": "华为发布昇腾910B AI芯片实测数据，在多项大模型训练和推理 benchmark 上性能接近或超越NVIDIA A100。这标志着国产AI芯片在高端市场取得重要突破。华为同时推出Atlas 900 SuperCluster AI集群，支持千卡级大模型训练。多家国内云厂商已采购昇腾芯片搭建大模型服务平台。业内分析认为，这将显著降低国内大模型训练和部署成本，加速AI应用普及。",
            "source": "36氪",
            "tag": "国内 · 芯片突破",
            "views": 13500
        }
    ],
    
    "国际": [
        {
            "title": "Anthropic出狠招：严禁账号共享，第三方应用将遭封号",
            "summary": "Anthropic公司近日更新了服务条款，明确禁止用户将Claude订阅账号的认证信息用于第三方应用程序。这一政策旨在加强对API使用的管控，防止账号共享和滥用。对于开发者而言，这意味着需要为每个应用单独申请API密钥，不能再通过个人订阅账号为他人提供服务。该政策反映了AI公司在商业化过程中对合规性和安全性的重视，也可能影响到现有的Claude生态应用架构。",
            "source": "Hacker News",
            "tag": "国际 · AI安全",
            "views": 14500
        },
        {
            "title": "Tailscale发布对等中继：秒连内网不求人，远程办公体验翻倍",
            "summary": "Tailscale推出的对等中继功能现已正式发布，这项技术创新为远程办公和分布式团队带来了革命性的网络连接体验。该功能解决了传统VPN面临的NAT穿透难题，允许设备在无法直接建立连接时通过中继节点转发流量，同时保持端到端加密确保数据安全。相比传统方案，对等中继具有更低的延迟和更高的可靠性，特别适合移动办公、IoT设备管理和多云环境部署。",
            "source": "Hacker News",
            "tag": "国际 · 网络技术",
            "views": 13800
        },
        {
            "title": "欧洲AI调查报告出炉：企业投入巨资却收效甚微，'索洛悖论'重现",
            "summary": "最新研究表明，人工智能技术在欧洲的生产力提升和就业市场影响方面呈现出复杂的态势。虽然AI技术在部分领域显著提高了工作效率，但整体上尚未达到预期的大规模生产力飞跃。这种'生产力悖论'现象在历史上的技术变革中也曾出现，反映了新技术 adoption 的复杂性。研究指出，企业需要更长时间来适应和整合AI工具，员工也需要培养新的技能来与AI协作。",
            "source": "Hacker News",
            "tag": "国际 · 产业研究",
            "views": 11200
        },
        {
            "title": "程序员脑洞大开：每行代码跑一个Docker，隔离性拉满但性能堪忧",
            "summary": "一项创新的编程语言实验将经典的Lisp方言与现代容器技术相结合，创造出一种每个函数调用都在独立Docker容器中执行的新型编程环境。这种设计带来了独特的优势，包括完美的执行隔离性、可重现的运行环境以及天然的并发支持能力。每个函数在干净的环境中运行，彻底避免了状态污染和副作用问题。虽然容器启动开销可能影响执行效率，但该项目的价值在于展示了编程语言设计的创新思路。",
            "source": "Hacker News",
            "tag": "国际 · 编程语言",
            "views": 10500
        },
        {
            "title": "对抗'末日滚动'神器登场：Rebrain.gg让学习像刷抖音一样上瘾",
            "summary": "在信息过载的数字时代，如何保持深度学习的能力成为了一项日益重要的技能。针对无意义的 endlessly scrolling 行为，新的学习工具和方法正在探索如何对抗注意力碎片化问题。这类产品通过游戏化机制和结构化内容设计，帮助用户建立主动学习的习惯，与当下社交媒体和短视频平台的设计哲学形成了鲜明对比。从认知科学角度看，持续的碎片化信息摄入会影响大脑的深度加工能力。",
            "source": "Hacker News",
            "tag": "国际 · 教育科技",
            "views": 9800
        },
        {
            "title": "微软AI训练指南引众怒：用盗版哈利波特数据？版权边界再惹争议",
            "summary": "人工智能训练数据的版权问题再次成为业界和法学界讨论的焦点议题。大语言模型训练所需的海量文本数据涉及复杂的知识产权法律边界，引发了关于什么是合理使用的广泛讨论。该事件揭示了当前AI行业在数据获取方面存在的灰色地带，虽然使用公开数据进行学术研究通常被视为合理使用，但商业用途的界限仍然模糊不清。从长远来看，这一问题可能会推动AI训练数据市场的规范化和合法化发展。",
            "source": "Hacker News",
            "tag": "国际 · AI伦理",
            "views": 13200
        },
        {
            "title": "OpenAI GPT-5训练遭瓶颈：算力需求暴增，成本或超100亿美元",
            "summary": "据知情人士透露，OpenAI下一代大模型GPT-5的训练遭遇了前所未有的挑战。模型规模的大幅增加导致算力需求呈指数级增长，预计训练成本可能超过100亿美元。这一数字远超GPT-4的训练成本，也给公司的融资和盈利模式带来巨大压力。业界分析认为，大模型训练成本的快速增长可能迫使AI公司寻找新的技术路径，如模型压缩、蒸馏和更高效的训练算法。",
            "source": "TechCrunch",
            "tag": "国际 · 大模型",
            "views": 16800
        },
        {
            "title": "Google Gemini 1.5震撼发布：1000万上下文窗口，整本书一次性理解",
            "summary": "Google正式发布Gemini 1.5 Pro模型，最引人注目的特性是支持高达1000万token的上下文窗口，这意味着模型可以一次性处理整本书籍、大型代码库或长视频内容。这一技术突破显著超越了当前主流大模型的上下文处理能力。Gemini 1.5在代码理解、多语言处理和复杂推理任务方面也展现出强劲实力。Google表示，该模型将通过Google AI Studio和Vertex AI平台向开发者开放。",
            "source": "The Verge",
            "tag": "国际 · 技术突破",
            "views": 15500
        },
        {
            "title": "马斯克xAI融资60亿美元：挑战OpenAI，打造'寻求真理'的AI",
            "summary": "埃隆·马斯克创立的xAI公司宣布完成60亿美元B轮融资，估值达到240亿美元，成为AI领域估值最高的初创公司之一。马斯克表示，xAI的目标是打造寻求真理的AI系统，与OpenAI和Google的政治正确形成对比。公司计划使用这笔资金建设超级算力中心，用于训练下一代大模型Grok-3。xAI目前已与特斯拉和Twitter/X形成协同，拥有独特的数据和应用场景优势。",
            "source": "Bloomberg",
            "tag": "国际 · 投融资",
            "views": 14200
        },
        {
            "title": "NVIDIA发布H200芯片：AI算力再提升90%，进一步巩固垄断地位",
            "summary": "NVIDIA在GTC大会上正式发布H200 Tensor Core GPU，搭载全新的HBM3e内存，内存带宽和容量相比H100提升近90%。在大模型推理 workload 上，H200的性能提升高达90%，进一步拉开了与竞争对手的差距。NVIDIA同时发布了新一代AI芯片路线图，包括2025年的B100和2026年的X100。业内分析认为，NVIDIA在AI芯片领域的领先地位短期内难以撼动，但也面临来自AMD和自研芯片的挑战。",
            "source": "Wired",
            "tag": "国际 · 芯片",
            "views": 12800
        }
    ]
}

def main():
    # 构建API数据结构
    output = {
        "version": "1.0",
        "lastUpdated": datetime.now().isoformat(),
        "categories": [
            {
                "id": "hot",
                "name": "AI热点",
                "articles": []
            }
        ]
    }
    
    # 合并国内和国际新闻
    all_news = []
    for news in NEWS_DATA["国内"]:
        news["date"] = "今天"
        news["url"] = "https://www.jiqizhixin.com/"
        all_news.append(news)
    
    for news in NEWS_DATA["国际"]:
        news["date"] = "今天"
        news["url"] = "https://news.ycombinator.com/"
        all_news.append(news)
    
    # 按热度排序
    all_news.sort(key=lambda x: x["views"], reverse=True)
    
    # 生成20条
    for i, news in enumerate(all_news[:20], 1):
        article = {
            "id": f"news_{i}",
            "title": news["title"],
            "summary": news["summary"],
            "tag": news["tag"],
            "source": news["source"],
            "date": news["date"],
            "url": news["url"],
            "views": news["views"],
            "isHot": i <= 3
        }
        output["categories"][0]["articles"].append(article)
    
    # 保存
    with open("api/tech-news.json", "w", encoding="utf-8") as f:
        json.dump(output, f, ensure_ascii=False, indent=2)
    
    print(f"✅ 已生成 {len(output['categories'][0]['articles'])} 条AI热点新闻")
    print(f"   国内: {len([n for n in all_news[:20] if '国内' in n['tag']])} 条")
    print(f"   国际: {len([n for n in all_news[:20] if '国际' in n['tag']])} 条")

if __name__ == "__main__":
    main()
